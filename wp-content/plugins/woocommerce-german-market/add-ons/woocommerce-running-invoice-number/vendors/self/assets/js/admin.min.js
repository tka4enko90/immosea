jQuery(document).ready(function(l){l(".edit-refund-number").click(function(){var n=l(this).attr("data-refund-id");l("#edit-refund-number-text-field-"+n).show(),l("#edit-refund-number-button-"+n).show(),l("#refund-number-"+n).hide(),l(this).hide()}),l(".refund-number-save-button").click(function(){var n=l(this).attr("data-refund-id"),e=l("#edit-refund-number-text-field-"+n).val();l("#refund-number-"+n).html(e),l("#edit-refund-number-text-field-"+n).hide(),l("#edit-refund-number-a-"+n).show(),l("#refund-number-"+n).show(),l(this).hide();var i={action:"wp_wc_running_invoice_number_update_refund_number",security:wpwcrin_ajax.nonce,refund_id:n,new_refund_number:e};l.post(wpwcrin_ajax.url,i,function(n){})}),l(".wp-wc-invoice-pdf").click(function(n){var e,i,_;l("#order_invoice_number").length&&""==l("#order_invoice_number").val().trim()&&(n.preventDefault(),l("#post_ID").length&&(e=l("#post_ID").val(),i={action:"wp_wc_running_invoice_number_ajax_backend_post",security:wpwcrin_ajax.nonce,order_id:e},_=l(this).attr("href"),l.post(wpwcrin_ajax.url,i,function(n){var e=n.split("[[SEPARATOR]]");l("#order_invoice_number").length&&""==l("#order_invoice_number").val().trim()&&(l("#order_invoice_number").val(e[0]),l("#order_invoice_number").attr("readonly","readonly"),l("#wp_wc_invoice_remove_read_only").show(),l(".wp_wc_invoice_generate").hide()),l("#order_invoice_date").length&&""==l("#order_invoice_date").val().trim()&&l("#order_invoice_date").val(e[1]),window.location=_})))}),l(".wp_wc_invoice_generate").click(function(){var n=l(this).attr("name"),e={action:"wp_wc_running_invoice_number_ajax_backend_post",security:wpwcrin_ajax.nonce,order_id:n};l.post(wpwcrin_ajax.url,e,function(n){var e=n.split("[[SEPARATOR]]");l("#order_invoice_number").val(e[0]),l("#order_invoice_date").val(e[1]),l("#order_invoice_number").attr("readonly","readonly"),l("#wp_wc_invoice_remove_read_only").show(),l(".wp_wc_invoice_generate").hide()})}),l(".wp_wc_invoice_remove_read_only").click(function(){l(this).css("visibility","hidden"),l("#order_invoice_number").removeAttr("readonly").focus()}),l(".button.wc-action-button.invoice_pdf").click(function(){var n=l(this).attr("href"),e={action:"wp_wc_running_invoice_number_ajax_backend_shop_order",security:wpwcrin_ajax.nonce,href:n};l.post(wpwcrin_ajax.url,e,function(n){var e=n.split("[[SEPARATOR]]");l("#invoice_number_"+e[0]).length&&l("#invoice_number_"+e[0]).html(e[1])})}),l("#wp_wc_running_invoice_number_prefix, #wp_wc_running_invoice_number_digits, #wp_wc_running_invoice_number_suffix, #wp_wc_running_invoice_number_next").keyup(function(){var n=l("#wp_wc_running_invoice_number_prefix").val(),e=parseInt(l("#wp_wc_running_invoice_number_digits").val()),i=l("#wp_wc_running_invoice_number_suffix").val(),_=parseInt(l("#wp_wc_running_invoice_number_next").val()),r=new Date,c=(c=r.getDate())<9?"0"+c:c,u=(u=r.getMonth()+1)<9?"0"+u:u,t=r.getFullYear(),a=t.toString().slice(-2);n=(n=(n=(n=n.replace("{{year}}",t)).replace("{{year-2}}",a)).replace("{{month}}",u)).replace("{{day}}",c),i=(i=(i=(i=i.replace("{{year}}",t)).replace("{{year-2}}",a)).replace("{{month}}",u)).replace("{{day}}",c),0==_&&(_=1);var o=isNaN(_)?1:_.toString().length,w=isNaN(e)?0:e,d=isNaN(_)?"1":_.toString();if(o<w)for(var v=w-o,p=1;p<=v;p++)d="0"+d;l("#wp_wc_running_invoice_number_digits").val(isNaN(e)?"":e),l("#wp_wc_running_invoice_number_next").val(isNaN(_)?"":_),l("#wp_wc_running_invoice_number_example").val(n+d+i)}),l("#wp_wc_running_invoice_number_digits, #wp_wc_running_invoice_number_next").change(function(){parseInt(l("#wp_wc_running_invoice_number_digits").val());0==parseInt(l("#wp_wc_running_invoice_number_next").val())&&l("#wp_wc_running_invoice_number_next").val(1)}),l("#wp_wc_running_invoice_number_prefix_refund, #wp_wc_running_invoice_number_digits_refund, #wp_wc_running_invoice_number_suffix_refund, #wp_wc_running_invoice_number_next_refund").keyup(function(){var n=l("#wp_wc_running_invoice_number_prefix_refund").val(),e=parseInt(l("#wp_wc_running_invoice_number_digits_refund").val()),i=l("#wp_wc_running_invoice_number_suffix_refund").val(),_=parseInt(l("#wp_wc_running_invoice_number_next_refund").val()),r=new Date,c=(c=r.getDate())<9?"0"+c:c,u=(u=r.getMonth()+1)<9?"0"+u:u,t=r.getFullYear(),a=t.toString().slice(-2);n=(n=(n=(n=n.replace("{{year}}",t)).replace("{{year-2}}",a)).replace("{{month}}",u)).replace("{{day}}",c),i=(i=(i=(i=i.replace("{{year}}",t)).replace("{{year-2}}",a)).replace("{{month}}",u)).replace("{{day}}",c),0==_&&(_=1);var o=isNaN(_)?1:_.toString().length,w=isNaN(e)?0:e,d=isNaN(_)?"1":_.toString();if(o<w)for(var v=w-o,p=1;p<=v;p++)d="0"+d;l("#wp_wc_running_invoice_number_digits_refund").val(isNaN(e)?"":e),l("#wp_wc_running_invoice_number_next_refund").val(isNaN(_)?"":_),l("#wp_wc_running_invoice_number_example_refund").val(n+d+i)}),l("#wp_wc_running_invoice_number_digits_refund, #wp_wc_running_invoice_number_next_refund").change(function(){parseInt(l("#wp_wc_running_invoice_number_digits_refund").val());0==parseInt(l("#wp_wc_running_invoice_number_next_refund").val())&&l("#wp_wc_running_invoice_number_next_refund").val(1)}),l(".refund_pdf").click(function(){var e=l(this).attr("data-refund-id"),i="refund-number-"+e;""==jQuery("#"+i).html()&&setTimeout(function(){var n={action:"wp_wc_running_invoice_number_show_refund_number",security:wpwcrin_ajax.nonce,refund_id:e};l.post(wpwcrin_ajax.url,n,function(n){jQuery("#"+i).html(n)})},750)})});